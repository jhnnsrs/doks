"use strict";(self.webpackChunkdoks=self.webpackChunkdoks||[]).push([[3303],{7082:(e,t,r)=>{r.d(t,{Z:()=>R});var n=r(7462),a=r(7294),l=r(6010),i=r(2389),o=r(407),s=r(5999),u=r(2263),c=r(1262),d=r(6412),m=r(4763);const p={playgroundContainer:"playgroundContainer_TGbA",playgroundHeader:"playgroundHeader_qwyd",playgroundEditor:"playgroundEditor_PvJ1",playgroundPreview:"playgroundPreview_bb8I"};var f=r(9903),h=r(210),v=r(4308);const b=()=>a.createElement(a.Fragment,null,"Please connect to your Server first to use this Feature"),g=e=>{let{children:t}=e;return a.createElement(f.k6,{fallback:a.createElement(b,null)},a.createElement(h.J,{fallback:a.createElement(b,null)},a.createElement(v.SS,{fallback:a.createElement(b,null)},t)))};var y=r(5419);r(8015);const E=e=>{const{activeTree:t}=(0,y.UK)();return a.createElement("div",{className:"overflow-y-auto"},t&&a.createElement(y.mp,{group:t,groupsClassName:()=>"",containerClassName:e=>"w-full h-[300px] "+(e.omit?"":" ")}))};var k=r(2094),w=r(1616),T=r(4842);function N(e){var t;const r=e.isHeadersEditorEnabled??!0,n=(0,T._i)({nonNull:!0}),l=((0,T.JB)({nonNull:!0}),(0,T.J5)({nonNull:!0}),(0,T.bN)(),(0,T.gp)()),{theme:i,setTheme:o}=((0,T.Xd)({onCopyQuery:e.onCopyQuery}),(0,T.pQ)(),(0,T.fE)(),(0,T.Fg)()),s=(null==l||null==(t=l.visiblePlugin)||t.content,(0,T.Xx)({defaultSizeRelation:1/3,direction:"horizontal",initiallyHidden:null!=l&&l.visiblePlugin?void 0:"first",onHiddenElementChange:e=>{"first"===e&&(null==l||l.setVisiblePlugin(null))},sizeThresholdSecond:200,storageKey:"docExplorerFlex"})),u=(0,T.Xx)({direction:"horizontal",storageKey:"editorFlex"}),c=(0,T.Xx)({defaultSizeRelation:3,direction:"vertical",initiallyHidden:(()=>{if("variables"!==e.defaultEditorToolsVisibility&&"headers"!==e.defaultEditorToolsVisibility)return"boolean"==typeof e.defaultEditorToolsVisibility?e.defaultEditorToolsVisibility?void 0:"second":n.initialVariables||n.initialHeaders?void 0:"second"})(),sizeThresholdSecond:60,storageKey:"secondaryEditorFlex"}),[d,m]=(0,a.useState)((()=>"variables"===e.defaultEditorToolsVisibility||"headers"===e.defaultEditorToolsVisibility?e.defaultEditorToolsVisibility:!n.initialVariables&&n.initialHeaders&&r?"headers":"variables")),[p,f]=(0,a.useState)(null),[h,v]=(0,a.useState)(null);window.navigator.platform.toLowerCase().indexOf("mac");return a.createElement("div",{"data-testid":"graphiql-container",className:"graphiql-container border border-primary-300 rounded-lg relative"},a.createElement("div",{className:"graphiql-main"},a.createElement("div",{className:"graphiql-sessions"},a.createElement("div",{role:"tabpanel",id:"graphiql-session",className:"graphiql-session","aria-labelledby":`graphiql-session-tab-${n.activeTabIndex}`},a.createElement("div",{ref:u.firstRef},a.createElement("div",{className:"graphiql-editors"+(1===n.tabs.length?" full-height":"")},a.createElement("div",{ref:c.firstRef},a.createElement("section",{className:"graphiql-query-editor","aria-label":"Query Editor"},a.createElement("div",{className:"graphiql-query-editor-wrapper dark:bg-slate-700"},a.createElement(T.WK,{editorTheme:e.editorTheme,keyMap:e.keyMap,onClickReference:()=>{"first"===s.hiddenElement&&s.setHiddenElement(null)},onCopyQuery:e.onCopyQuery,onEdit:e.onEditQuery,readOnly:e.readOnly}))))))))))}const x=e=>{let{query:t,onEditQuery:r}=e;const{config:n}=(0,v.rM)(),{token:l}=(0,h.gX)(),[i,o]=(0,a.useState)(),u=(0,k.nq)({url:(null==n?void 0:n.endpointUrl)||"",headers:{Authorization:`Bearer ${l}`}});return a.createElement(a.Fragment,null,a.createElement("div",{className:"p-2 w-full text-xl font-light bg-gray-200 text-slate-900 rounded-t-md border-none border-0 "},a.createElement(s.Z,{id:"theme.Playground.result",description:"The result label of the live codeblocks"},"Live")),a.createElement("div",{className:"h-[300px]"},a.createElement(w.j$,{fetcher:u,query:t},a.createElement(N,{onEditQuery:r}))))};var q=r(1230);const C=e=>{const{setActiveQueryData:t}=(0,y.UK)(),{client:r}=(0,v.rM)();return(0,a.useEffect)((()=>{if(e.code){console.log("props.code",e.code);try{r.query({query:(0,q.ZP)(e.code)}).then((e=>{t(e.data)}))}catch(n){console.log("e",n)}}}),[e.code]),a.createElement(E,null)};function I(e){const[t,r]=(0,a.useState)(),[n,l]=(0,a.useState)();return(0,a.useEffect)((()=>{let e=new y.vF;e.registerChart({name:"test",match:e=>{if(e.data)return{priority:1,Component:y.b0}}}),r(e);let t=new y.HD({name:"fallback",object:"fallback",Component:e=>a.createElement("div",null,JSON.stringify(e.value))});t.registerSmart({name:"Omero",object:"Omero",Component:e=>a.createElement("div",{className:"bg-slate-900 p-3 rounded rounded-md"},"This is the Omero file ",JSON.stringify(e.value))}),l(t)}),[]),a.createElement(a.Fragment,null,a.createElement("div",{className:"p-2 w-full text-xl font-light bg-slate-600 text-slate-200 shadow shadow-md"},a.createElement(s.Z,{id:"theme.Playground.result",description:"The result label of the live codeblocks"},"Result")),a.createElement("div",null,a.createElement(c.Z,{fallback:a.createElement("div",null,"Hallo")},(()=>a.createElement(g,null,n&&t&&a.createElement(y.z0,{chartRegistry:t,smartRegistry:n,palette:{graphColor:"#ffffff",dataColors:["rgb(var(--color-primary-100))","rgb(var(--color-primary-200))","rgb(var(--color-primary-300))"]}},a.createElement(C,{code:e.code})))))))}const S=e=>{let{code:t,playgroundPosition:r}=e;const[n,l]=(0,a.useState)(t);return a.createElement("div",{className:"border-slate-300  p-1 "},a.createElement(a.Fragment,null,a.createElement(x,{query:n,onEditQuery:l}),a.createElement(I,{code:n})))};function V(e){let{children:t}=e;return a.createElement("div",{className:(0,l.Z)(p.playgroundHeader)},t)}function P(){return a.createElement("div",null,"Loading...")}function Z(e){let{error:t,tryAgain:r}=e;return a.createElement("div",{className:p.errorFallback},a.createElement("p",null,t.message))}function A(){return a.createElement(c.Z,{fallback:a.createElement(P,null)},(()=>a.createElement(a.Fragment,null,a.createElement(m.Z,{fallback:e=>a.createElement(Z,e)},a.createElement(o.i5,null)),a.createElement(o.IF,null))))}function j(){return a.createElement(a.Fragment,null,a.createElement(V,null,a.createElement(s.Z,{id:"theme.Playground.result",description:"The result label of the live codeblocks"},"Result")),a.createElement("div",{className:p.playgroundPreview},a.createElement(g,null,a.createElement(A,null))))}function F(){const e=(0,i.Z)();return a.createElement(o.uz,{key:String(e),className:p.playgroundEditor})}function M(){return a.createElement(a.Fragment,null,a.createElement(V,null,a.createElement(s.Z,{id:"theme.Playground.liveEditor",description:"The live editor label of the live codeblocks"},"Live Editor")),a.createElement(F,null))}function R(e){var t;let{children:r,transformCode:l,...i}=e;const{siteConfig:{themeConfig:s}}=(0,u.Z)(),{liveCodeBlock:{playgroundPosition:m}}=s,f=(0,d.p)();if(console.log(i),"language-kraphql"===i.className)return a.createElement(c.Z,null,(()=>a.createElement(S,{code:r,playgroundPosition:m})));const h=(null==(t=i.metastring)?void 0:t.includes("noInline"))??!1;return a.createElement("div",{className:p.playgroundContainer},a.createElement(o.nu,(0,n.Z)({code:r.replace(/\n$/,""),noInline:h,transformCode:l??(e=>`${e};`),theme:f},i),"top"===m?a.createElement(a.Fragment,null,a.createElement(j,null),a.createElement(M,null)):a.createElement(a.Fragment,null,a.createElement(M,null),a.createElement(j,null))))}},7176:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(7294),a=r(4308);var l=r(1230);const i={React:n,...n,withMikro:a.R1,useMikroQuery:a.WE,BioImage:e=>{let{image:t}=e;return n.createElement("div",{className:"p-2 flex flex-row bg-black text-white border-gray-200 border border-1 rounded "},t.name)},gql:l.Ps}},882:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>V,contentTitle:()=>I,default:()=>A,frontMatter:()=>C,metadata:()=>S,toc:()=>P});var n=r(7462),a=r(7294),l=r(3905),i=r(6010),o=r(2466),s=r(6775),u=r(1980),c=r(875),d=r(12);function m(e){return function(e){return a.Children.map(e,(e=>{if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))}(e).map((e=>{let{props:{value:t,label:r,attributes:n,default:a}}=e;return{value:t,label:r,attributes:n,default:a}}))}function p(e){const{values:t,children:r}=e;return(0,a.useMemo)((()=>{const e=t??m(r);return function(e){const t=(0,c.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,r])}function f(e){let{value:t,tabValues:r}=e;return r.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:r}=e;const n=(0,s.k6)(),l=function(e){let{queryString:t=!1,groupId:r}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:t,groupId:r});return[(0,u._X)(l),(0,a.useCallback)((e=>{if(!l)return;const t=new URLSearchParams(n.location.search);t.set(l,e),n.replace({...n.location,search:t.toString()})}),[l,n])]}function v(e){const{defaultValue:t,queryString:r=!1,groupId:n}=e,l=p(e),[i,o]=(0,a.useState)((()=>function(e){let{defaultValue:t,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!f({value:t,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=r.find((e=>e.default))??r[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:l}))),[s,u]=h({queryString:r,groupId:n}),[c,m]=function(e){let{groupId:t}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,l]=(0,d.Nk)(r);return[n,(0,a.useCallback)((e=>{r&&l.set(e)}),[r,l])]}({groupId:n}),v=(()=>{const e=s??c;return f({value:e,tabValues:l})?e:null})();(0,a.useLayoutEffect)((()=>{v&&o(v)}),[v]);return{selectedValue:i,selectValue:(0,a.useCallback)((e=>{if(!f({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),m(e)}),[u,m,l]),tabValues:l}}var b=r(2389);const g="tabList__CuJ",y="tabItem_LNqP";function E(e){let{className:t,block:r,selectedValue:l,selectValue:s,tabValues:u}=e;const c=[],{blockElementScrollPositionUntilNextRender:d}=(0,o.o5)(),m=e=>{const t=e.currentTarget,r=c.indexOf(t),n=u[r].value;n!==l&&(d(t),s(n))},p=e=>{var t;let r=null;switch(e.key){case"Enter":m(e);break;case"ArrowRight":{const t=c.indexOf(e.currentTarget)+1;r=c[t]??c[0];break}case"ArrowLeft":{const t=c.indexOf(e.currentTarget)-1;r=c[t]??c[c.length-1];break}}null==(t=r)||t.focus()};return a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":r},t)},u.map((e=>{let{value:t,label:r,attributes:o}=e;return a.createElement("li",(0,n.Z)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>c.push(e),onKeyDown:p,onClick:m},o,{className:(0,i.Z)("tabs__item",y,null==o?void 0:o.className,{"tabs__item--active":l===t})}),r??t)})))}function k(e){let{lazy:t,children:r,selectedValue:n}=e;if(r=Array.isArray(r)?r:[r],t){const e=r.find((e=>e.props.value===n));return e?(0,a.cloneElement)(e,{className:"margin-top--md"}):null}return a.createElement("div",{className:"margin-top--md"},r.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function w(e){const t=v(e);return a.createElement("div",{className:(0,i.Z)("tabs-container",g)},a.createElement(E,(0,n.Z)({},e,t)),a.createElement(k,(0,n.Z)({},e,t)))}function T(e){const t=(0,b.Z)();return a.createElement(w,(0,n.Z)({key:String(t)},e))}const N="tabItem_Ymn6";function x(e){let{children:t,hidden:r,className:n}=e;return a.createElement("div",{role:"tabpanel",className:(0,i.Z)(N,n),hidden:r},t)}var q=r(6711);const C={id:"installation",title:"Installation",sidebar_label:"Installation"},I="Installation",S={unversionedId:"developers/javascript/installation",id:"developers/javascript/installation",title:"Installation",description:"Arkitekt Web support is currently relying exlusively on React and its ecoystem. We are working on",source:"@site/docs/developers/javascript/installation.mdx",sourceDirName:"developers/javascript",slug:"/developers/javascript/installation",permalink:"/doks/docs/developers/javascript/installation",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/developers/javascript/installation.mdx",tags:[],version:"current",frontMatter:{id:"installation",title:"Installation",sidebar_label:"Installation"},sidebar:"tutorialSidebar",previous:{title:"Javascript/Typescript",permalink:"/doks/docs/category/javascripttypescript"},next:{title:"Python",permalink:"/doks/docs/category/python"}},V={},P=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation",id:"installation-1",level:2},{value:"Usage",id:"usage",level:2}],Z={toc:P};function A(e){let{components:t,...r}=e;return(0,l.kt)("wrapper",(0,n.Z)({},Z,r,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"installation"},"Installation"),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"Arkitekt Web support is currently relying exlusively on React and its ecoystem. We are working on\nrefactoring the codebase to support other frameworks.")),(0,l.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,l.kt)("p",null,"Arkitekt Web is build on react and therefore requires react >16 to be installed."),(0,l.kt)("h2",{id:"installation-1"},"Installation"),(0,l.kt)("p",null,"The fully working arkitekt with all subservices can be installed via npm or yarn."),(0,l.kt)(T,{mdxType:"Tabs"},(0,l.kt)(x,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,l.kt)(q.Z,{language:"bash",mdxType:"CodeBlock"},"npm install @jhnnsrs/arkitekt")),(0,l.kt)(x,{value:"npm",label:"npm",mdxType:"TabItem"},(0,l.kt)(q.Z,{language:"bash",mdxType:"CodeBlock"},"yarn add @jhnnsrs/arkitekt"))),(0,l.kt)("h2",{id:"usage"},"Usage"),(0,l.kt)("p",null,"Arkitekts functionaly is within the Arkitekt Provider that itself sets up providers for\nthe related services."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},'import { ArkitektProvider } from "@jhnnsrs/arkitekt";\nimport { useMikroQuery, MikroGuard } from "@jhnnsrs/mikro";\n\nexport const InnerApp = () => {\n  const [data] = useMikroQuery(\n    gql```\n    query {\n      myrepresentations {\n        id\n        name\n      }\n    }\n  ```\n  ); // Once configured this will return the data from the query\n\n  return <>{JSON.stringify(data)}</>\n};\n\nexport const App = () => {\n  return (\n    <ArkitektProvider>\n        <MikroGuard fallback={<div>Mikro is not connected</div>}> {/* // This will only render the children if mikro is connected */}\n           <InnerApp>\n      </MikroGuard>\n    </ArkitektProvider>\n  );\n};\n')),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"This app will not work as is. You need to use both ",(0,l.kt)("inlineCode",{parentName:"p"},"fakts")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"herre")," to first\nconfigure the connected and then authenticate with them.")),(0,l.kt)("p",null,'This documentation provides examples to be used with "react-router" and authenticating\nyour web app as a public app (an app that users can login in with and authorize).'))}A.isMDXComponent=!0}}]);